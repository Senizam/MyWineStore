@model IEnumerable<MyWineStore.Models.WineModel>
@{
    ViewBag.Title = "Index";

}

<div class="row">
    @for (int i = 0; i < Model.Count(); i++)
    {
    <div class="col-xs-4">
        <div class="panel">
            <h2>@Model.ElementAt(i).Name</h2>
            @using (Html.BeginForm())
            {

                if (User.Identity.IsAuthenticated)
                {
                    <div class="form-group">
                        <label>
                            Quantity:
                            <input type="number" name="quantity" value="@Model.ElementAt(i).Quantity" class="form-control" />
                        </label>
                    </div>
                    <input type="hidden" name="id" value="@Model.ElementAt(i).Id" />
                    <input type="submit" class="btn btn-primary" value="Add To Cart" />
                }
                else
                {
                    @Html.ActionLink("Sign In To Purchase", "Index", "Login", null, new { @class = "btn btn-primary" })
                }
            }
        </div>
    </div>
    }

</div>
